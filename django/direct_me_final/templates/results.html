{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'main.css' %}">
<script src="{% static 'main.js' %}"></script>
<html>
<head>
    <title>Directions Information</title>

</head>

<div class="wrapper">

<body>
    <h1>Directions Information:</h1>

    <table>
        <tbody>
            <tr>
                <td class="col-1">Starting Location</td>
                <td class="col-2">{{ result.start_location }}</td>
            </tr>
            <tr>
                <td class="col-1">Destination Location</td>
                <td class="col-2">{{ result.end_location }}</td>
            </tr>
            <tr>
                <td class="col-1">Selected Mode</td>
                <td class="col-2">{{ result.mode_select }}</td>
            </tr>
            <tr>
                <td class="col-1">Travel Time & Distance</td>
                <td class="col-2">{{ result.duration }}  |  {{ result.distance }}</td>
            </tr>
            <tr>
                <td class="col-1">Caution</td>
                <td class="col-2"><span style="color: blue;">{{ result.concerns }}</span></td>
            </tr>
        </tbody>
    </table>

    <h2></h2>
    <table>
        <tbody class="additional-information">
            <tr>
                <td class="col-1">Travel time for various mode</td>
                <td class="col-2">Drive/Taxi: {{ result.drive }}<br>Public Transport: {{ result.transit }}<br>
                    Bicycle: {{ result.cycle }}<br>Walk: {{ result.walk }}</td>
            </tr>
            <tr>
                <td class="col-1">Weather</td>
                <td class="col-2">{{ result.start_weather_forecast }}  |  {{ result.dest_weather_forecast }}</td>
            </tr>
            <tr>
                <td class="col-1">Nearby Taxi Availablility</td>
                <td class="col-2">{{ result.num_taxi }}</td>
            </tr>
            <tr>
                <td class="col-1">Nearby Carpark Availability</td>
                <td class="col-2">{{ result.carpark|linebreaksbr }}</td>
            </tr>
            <tr>
                <td class="col-1">&nbsp;</td>
                <td class="col-2">&nbsp;</td>
            </tr>
        </tbody>
    </table>

    <h3></h3>
    <table>
        <tbody>
           <tr onclick="showHideColumn('hidden_column2');" style="cursor: pointer;">
                <td>Directions (Click <span style="text-decoration: underline;">here</span> to expand)</td>
                <td id="hidden_column2" style="display:none;">
                    <span style="text-decoration: underline;">Detailed Directions: </span><br>{{ result.steps|linebreaksbr }}<br><br></td>
            </tr>
            <script>
                function showHideColumn(id) {
                var element = document.getElementById(id);
                if (element.style.display === "none") {
                element.style.display = "table-cell"
                } else {
                element.style.display = "none";
                }
                }
            </script>
            <tr>
                <td colspan="2">{{ result.plot_html|safe }}</td>
            </tr>
        </tbody>
    </table>

    <h4>Top Rated Restaurants Nearby</h4>
    <table>
        <th>Restaurants</th>
        <th>Google Rating</th>
        {% for restaurant in result.restaurants_list %}
        <tr>
            <td>{{ restaurant.name }}</td>
            <td style="text-align: left;">{{ restaurant.rating }}</td>
        </tr>
        {% endfor %}
    </table>

</body>
</div>
</html>